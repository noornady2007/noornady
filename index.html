<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SHAHDâ™¡NOOR</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg1:#4b1d6f; --bg2:#9b5de5; --card:rgba(255,255,255,.18);
  --text:#fff; --btn:#e0aaff; --btnText:#3c096c;
}
body.dark{
  --bg1:#120016; --bg2:#2b0038; --card:rgba(255,255,255,.12);
  --text:#f5eaff; --btn:#ffb3ff; --btnText:#2b0038;
}

body{
  margin:0;
  font-family:'Cairo',sans-serif;
  color:var(--text);
  background:
    radial-gradient(circle at 20% 30%, #c77dff, transparent 40%),
    radial-gradient(circle at 80% 70%, #5a189a, transparent 40%),
    linear-gradient(135deg,var(--bg1),var(--bg2));
  background-attachment: fixed;
}

.hidden{display:none}
.container{max-width:430px;margin:auto;padding:16px}
h1{text-align:center}

input,textarea,button{
  width:100%;padding:12px;margin:8px 0;border-radius:12px;border:none;font-size:16px
}
button{background:var(--btn);color:var(--btnText);font-weight:700;cursor:pointer}

.topbar{display:flex;justify-content:space-between;align-items:center}
.iconBtn{width:auto;padding:8px 12px;border-radius:10px}
.menu{font-size:22px}

.card{
  background:var(--card);
  border-radius:16px;
  padding:12px;
  margin-top:14px;
  animation: slideUp .5s ease;
}
.card img{
  width:100%;
  border-radius:12px;
  cursor:pointer;
}

.meta{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
.date{font-size:13px;opacity:.9}
.del{background:#ff7aa2;color:#3b0012}
.heartBtn{font-size:22px}
.formBox{margin-top:10px}

/* Animations */
.fadeIn{animation: fadeIn .8s ease forwards}
@keyframes fadeIn{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}

@keyframes slideUp{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

/* Image Viewer */
.viewer{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.75);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:99;
  animation: fadeIn .4s ease;
}
.viewer img{
  max-width:90%;
  max-height:90%;
  border-radius:16px;
  animation: zoom .4s ease;
}
@keyframes zoom{
  from{transform:scale(.7)}
  to{transform:scale(1)}
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login" class="container fadeIn">
  <h1>ğŸ” SHAHDâ™¡NOOR</h1>
  <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- APP -->
<div id="app" class="container hidden">
  <div class="topbar">
    <button class="iconBtn" onclick="toggleDark()">ğŸŒ™</button>
    <h3>SHAHDâ™¡NOOR ğŸ’œ</h3>
    <button class="iconBtn menu" onclick="toggleForm()">â‹®</button>
  </div>

  <!-- ADD FORM -->
  <div id="form" class="formBox hidden fadeIn">
    <input type="file" id="image" accept="image/*">
    <input type="date" id="date">
    <textarea id="desc" placeholder="ÙˆØµÙ Ø§Ù„ØµÙˆØ±Ø© / Ø¥Ø­Ø³Ø§Ø³Ù†Ø§ ğŸ’­"></textarea>
    <button class="heartBtn" onclick="addPhoto()">ğŸ¥°</button>
  </div>

  <div id="gallery"></div>
</div>

<script>
const REAL_PASSWORD="25102007";
const loginDiv=document.getElementById("login");
const app=document.getElementById("app");
const gallery=document.getElementById("gallery");
const form=document.getElementById("form");

function login(){
  if(password.value===REAL_PASSWORD){
    loginDiv.style.display="none";
    app.classList.remove("hidden");
    app.classList.add("fadeIn");
    loadPhotos();
    applyTheme();
  } else alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø· ğŸ’”");
}

function toggleForm(){
  form.classList.toggle("hidden");
  form.classList.add("fadeIn");
}

function toggleDark(){
  const isDark=document.body.classList.toggle("dark");
  localStorage.setItem("theme",isDark?"dark":"light");
}
function applyTheme(){
  if(localStorage.getItem("theme")==="dark")
    document.body.classList.add("dark");
}

function addPhoto(){
  const file=image.files[0];
  if(!file) return;
  const r=new FileReader();
  r.onload=()=>{
    const arr=JSON.parse(localStorage.getItem("photos")||"[]");
    arr.push({img:r.result,date:date.value,desc:desc.value});
    localStorage.setItem("photos",JSON.stringify(arr));
    image.value="";date.value="";desc.value="";
    loadPhotos();
  };
  r.readAsDataURL(file);
}

function delPhoto(i){
  const pass=prompt("Ø§ÙƒØªØ¨ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ù„ØªØ£ÙƒÙŠØ¯ ğŸ”");
  if(pass!==REAL_PASSWORD){
    alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø© âŒ");
    return;
  }
  const arr=JSON.parse(localStorage.getItem("photos")||"[]");
  arr.splice(i,1);
  localStorage.setItem("photos",JSON.stringify(arr));
  loadPhotos();
}

function loadPhotos(){
  gallery.innerHTML="";
  const arr=JSON.parse(localStorage.getItem("photos")||"[]");
  arr.slice().reverse().forEach((p,idx)=>{
    const realIndex=arr.length-1-idx;
    gallery.innerHTML+=`
      <div class="card">
        <img src="${p.img}" onclick="openImg('${p.img}')">
        <div class="meta">
          <div class="date">ğŸ“… ${p.date||""}</div>
          <button class="iconBtn del" onclick="delPhoto(${realIndex})">ğŸ—‘ï¸</button>
        </div>
        <div>${p.desc||""}</div>
      </div>`;
  });
}

function openImg(src){
  const v=document.createElement("div");
  v.className="viewer";
  v.innerHTML=`<img src="${src}">`;
  v.onclick=()=>v.remove();
  document.body.appendChild(v);
}
</script>

</body>
</html>
